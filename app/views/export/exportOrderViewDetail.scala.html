@(user : User, requisition:models.consumable.Requisition)
@header("exportOrderView Detail")

@nav(user)
@headerTagFull("เพิ่มรายการเบิกจ่าย")

@cancelExportAdd()
<div class ="detailWindow" id="addWindows" >
    <div>

      <div class="form-inline marginBtm1" role="form">
        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width250px">ใบเบิกวัสดุประจำเดือน</span>
              <input type="text" disabled class="form-control width300px textAlignCenter" autocomplete="off" value="@requisition.title" name="title" id="title">
          </div>
        </div>

        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width250px">เลขที่</span>
              <input type="text" disabled class="form-control width300px textAlignCenter" autocomplete="off" value="@requisition.number" name="number" id="number">
          </div>
        </div>
      </div>

      <div class="form-inline marginBtm1" role="form">
        <div class="form-group">
          <div class="input-group" id="dateP">
              <span class="input-group-addon width250px">วัน/เดือน/ปี ที่ทำการเบิกจ่าย</span>
              <input type="text" disabled class="form-control width300px textAlignCenter" data-format="DD/MM/YYYY" value="@requisition.approveDateToString" name="approveDate" id="date">
          </div>
        </div>
      </div>

      <div class="form-inline marginBtm1" role="form">
        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width125px">ผู้จ่าย:ชื่อ</span>
              <input type="text" disabled class="form-control width190px textAlignCenter" name="firstName" @if(requisition.user!=null){value="@requisition.user.firstName"} id="firstName" onkeyup="mapInput()">
          </div>
        </div>
        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width125px">นามสกุล</span>
              <input type="text" disabled class="form-control width190px textAlignCenter" @if(requisition.user!=null){value="@requisition.user.lastName"} name="lastName" id="lastName">
          </div>
        </div>
        <div class="form-group">
          <div class="input-group">
            <span class="input-group-addon width125px">ตำแหน่ง</span>
            <input type="text" disabled class="form-control width190px textAlignCenter" @if(requisition.user!=null){value="@requisition.user.position"} name="position" id="position">
          </div>
        </div>
      </div>

      <div class="form-inline marginBtm1" role="form">
        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width125px">ผู้อนุมัติ:ชื่อ</span>
              <input type="text" disabled class="form-control width190px textAlignCenter" @if(requisition.approver!=null){value="@requisition.approver.firstName"} name="approverFirstName" id="approverName" onkeyup="mapInput2()">
          </div>
        </div>
        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width125px">นามสกุล</span>
              <input type="text" disabled class="form-control width190px textAlignCenter" @if(requisition.approver!=null){value="@requisition.approver.lastName"} name="approverLastName" id="approverLastName">
          </div>
        </div>
        <div class="form-group">
          <div class="input-group">
              <span class="input-group-addon width125px">ตำแหน่ง</span>
              <input type="text" disabled class="form-control width190px textAlignCenter" @if(requisition.approver!=null){value="@requisition.approver.position"} name="approverPosition" id="approverPosition">
          </div>
        </div>
      </div>

    </div>

    <div class="well" >
      
      <h2 style ="text-align:center;">รายละเอียดวัสดุ</h2>
      <div class="tableHeaderBtnContainer" >        
        <div class="searchS">
          <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon">ค้นหา</span>
                <input type="text"d class="form-control" style="width:300px" onkeydown="return (event.keyCode!=13);">
            </div>
          </div>
        </div>
        <div>
            <button type="button" class="btn btn-success width200px" onclick="addDetailButton()" style="float:right;margin-left:1%;">เพิ่มวัสดุ</button>
            <button type="button" class="btn btn-danger width200px" style="float:right;">ลบวัสดุ</button>
        </div> 
      </div>

      <table class="table table-striped overlayTable">
        <thead>
          <tr>
            <th>ลำดับ</th>
            <th>หมายเลขวัสดุ<span class="glyphicon glyphicon-sort"></span></th>
            <th>รายละเอียด<span class="glyphicon glyphicon-sort"></span></th>
            <th>จำนวน<span class="glyphicon glyphicon-sort"></span></th>
            <th>หน่วย<span class="glyphicon glyphicon-sort"></span></th>
            <th>ผู้เบิก<span class="glyphicon glyphicon-sort"></span></th>
            <th>หมายเหตุ<span class="glyphicon glyphicon-sort"></span></th>
          </tr>
        </thead>
        <tbody id="detailInTable">
          @for((detail, index) <- requisition.details.zipWithIndex){
            <tr>
              <th>@{index+1}</th>
              <th>หมายเลขวัสดุ<span class="glyphicon glyphicon-sort"></span></th>
              <th>รายละเอียด<span class="glyphicon glyphicon-sort"></span></th>
              <th>จำนวน<span class="glyphicon glyphicon-sort"></span></th>
              <th>หน่วย<span class="glyphicon glyphicon-sort"></span></th>
              <th>ผู้เบิก<span class="glyphicon glyphicon-sort"></span></th>
              <th>หมายเหตุ<span class="glyphicon glyphicon-sort"></span></th>
            </tr>
          }
        </tbody>
      </table>
    </div>
    <div align="center" style="margin-bottom:1%;">
      <a href="@routes.ExportOrder.cancelRequisition(requisition.id)">
        <button type="button" class="btn btn-danger btn-lg width250px" style="margin-top:1%;margin-right:1%;" onclick="addId(requisition.id)" ng-click="openCancelModal('cancelRequisition')">
          <span class="glyphicon glyphicon-remove"></span> ยกเลิก
        </button>
      </a>
      <button type="submit" class="btn btn-success btn-lg width250px" style=" margin-top:1%;">
        ยืนยัน <span class="glyphicon glyphicon-ok"></span>
      </button>
    </div>

</div> 

@footerFull()
