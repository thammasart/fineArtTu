@(user : User,code:MaterialCode)
@header("importsMaterialConsumableGoodsDetail")

    <script src="@routes.Assets.at("javascripts/import/materialConsumableGoodAdd.js")"></script>
    <script>
        function initFocusPoniter(){
            document.addDurableArticles.code.focus();
        }
    </script>
<body onload="initFocusPoniter()">
@nav(user)
@headerTagFull("รายละเอียดหมายเลขวัสดุสิ้นเปลือง")

<body >
<div class="detailWindow" >



<!-- =============================================================================================================================== -->


    @if(user.status.module6){
        <button id="button" onclick="changeValue();" class="btn btn-warning btn-lg width250px" style="margin-bottom:1%;">
                        แก้ไขรายละเอียด
        </button>
    }
	    
	    <input id="activate" type="hidden" value=0>

<script type="text/javascript">

	$('document').ready(function()							//ทำก่อนเริ่มสร้างpage-
	{
		
		var value = $('#activate').val();					//get ค่า value-
		
		$('#fixButton').hide();								//ซ่อนปุ่ม (ด้านล่าง)-
		
		var inputs = $('input');							//ดึงค่าinput fieldทั้งหมดที่ไม่ใช่selected-
		
		$('select').prop('disabled',true);					//ปิดปุ่มselected-
		$('textarea').prop('disabled',true);				//ปิดปุ่มรายละเอียดอื่นๆ-
		$.each(inputs, function(i, input) {					//loopinput fieldทั้งหมด-
		    var chosenField = $(input);						//ดึงมาค่า-
		    chosenField.prop('disabled',true);				//ปิดค่าปุ่มที่ดึงมา-
		});
		$('#activate').val(1);
	});
	
	
	function enableToSend()
	{
		var value = $('#activate').val();					//get ค่า value-
		
		$('#fixButton').hide();								//ซ่อนปุ่ม (ด้านล่าง)-
		
		var inputs = $('input');							//ดึงค่าinput fieldทั้งหมดที่ไม่ใช่selected-
		
		$('select').prop('disabled',false);					//ปิดปุ่มselected-
		$('textarea').prop('disabled',false);				//ปิดปุ่มรายละเอียดอื่นๆ-
		$.each(inputs, function(i, input) {					//loopinput fieldทั้งหมด-
		    var chosenField = $(input);						//ดึงมาค่า-
		    chosenField.prop('disabled',false);				//ปิดค่าปุ่มที่ดึงมา-
		});
	}
	
    function changeValue()
    {
    	var value = $('#activate').val();

    		var inputs = $('input');
    		$('#browse').prop('disabled',false); //fix only button 
    		$('#fixButton').show();
    		$('textarea').prop('disabled',false);	
    		$('#activate').val(0);
    		$('#minNumber').prop('disabled',false); 
    		$('#classifier').prop('disabled',false); 
    		$('#description').prop('disabled',false); 
    		$('#button').hide();
    		$("#editBtn").show();
    	
    }
</script>
	    

<!-- =============================================================================================================================== -->




    <form name="addDurableArticles" method="post" action="@routes.ImportDetail.saveNewMaterialConsumableGoods()" onsubmit="return submitButtonClick()" enctype="multipart/form-data">
        <div class="well" >
            <h3 > เพิ่มวัสดุสิ้นเปลือง </h3>

              <input type="radio" name="chosenType" value="2" hidden="true" checked>   <!--parse value-->

              <div class="well">
                  <fieldset>
                    <legend style="width:auto">เลือกประเภทวัสดุสิ้นเปลือง</legend>

                    <table  class="table table-striped">
                    <tr>
                        <td><input type="radio" name="chosen" value="01" onclick="radioClick()" @if(code.materialType.preCodeId == "01"){checked}> วัสดุสิ้นเปลืองสำนักงาน(01)</td>
                        <td><input type="radio" name="chosen" value="02" onclick="radioClick()" @if(code.materialType.preCodeId == "02"){checked}> วัสดุสิ้นเปลืองไฟฟ้าและวิทยุ(02)</td>
                        <td><input type="radio" name="chosen" value="03" onclick="radioClick()" @if(code.materialType.preCodeId == "03"){checked}> วัสดุสิ้นเปลืองงานบ้านงานครัว(03)</td>
                        <td><input type="radio" name="chosen" value="04" onclick="radioClick()" @if(code.materialType.preCodeId == "04"){checked}> วัสดุสิ้นเปลืองคอมพิวเตอร์(04)</td>
                        <td><input type="radio" name="chosen" value="05" onclick="radioClick()" @if(code.materialType.preCodeId == "05"){checked}> วัสดุสิ้นเปลืองยานพาหนะและขนส่ง(05)</td>
                        <td><input type="radio" name="chosen" value="06" onclick="radioClick()" @if(code.materialType.preCodeId == "06"){checked}> วัสดุสิ้นเปลืองวิทยาศาสตร์และการแพทย์(06)</td>
                      </tr>

                      <tr>
                        <td><input type="radio" name="chosen" value="07" onclick="radioClick()" @if(code.materialType.preCodeId == "07"){checked}> วัสดุสิ้นเปลืองโฆษณาและเผยแพร่(07)</td>
                        <td><input type="radio" name="chosen" value="08" onclick="radioClick()" @if(code.materialType.preCodeId == "08"){checked}> วัสดุสิ้นเปลืองการศึกษา(08)</td>
                        <td><input type="radio" name="chosen" value="09" onclick="radioClick()" @if(code.materialType.preCodeId == "09"){checked}> วัสดุสิ้นเปลืองสนาม(09)</td>
                        <td><input type="radio" name="chosen" value="10" onclick="radioClick()" @if(code.materialType.preCodeId == "10"){checked}> วัสดุสิ้นเปลืองการเกษตร(10)</td>
                        <td><input type="radio" name="chosen" value="11" onclick="radioClick()" @if(code.materialType.preCodeId == "11"){checked}> วัสดุสิ้นเปลืองสำรวจ(11)</td>
                        <td><input type="radio" name="chosen" value="12" onclick="radioClick()" @if(code.materialType.preCodeId == "12"){checked}> วัสดุสิ้นเปลืองก่อสร้าง(12)</td>
                      </tr>

                      <tr>
                        <td><input type="radio" name="chosen" value="13" onclick="radioClick()" @if(code.materialType.preCodeId == "13"){checked}> วัสดุสิ้นเปลืองโรงงาน(13)</td>
                        <td><input type="radio" name="chosen" value="14" onclick="radioClick()" @if(code.materialType.preCodeId == "14"){checked}> วัสดุสิ้นเปลืองดนตรีและนาฏศิลทป์(14)</td>
                        <td><input type="radio" name="chosen" value="15" onclick="radioClick()" @if(code.materialType.preCodeId == "15"){checked}> วัสดุสิ้นเปลืองกีฬา(15)</td>
                        <td><input type="radio" name="chosen" value="16" onclick="radioClick()" @if(code.materialType.preCodeId == "16"){checked}> วัสดุสิ้นเปลืองอาวุธ(16)</td>
                        <td><input type="radio" name="chosen" value="17" onclick="radioClick()" @if(code.materialType.preCodeId == "17"){checked}> วัสดุสิ้นเปลืองอื่นๆ(17)</td>
                      </tr>

                    </table>

                  </fieldset>
              </div>
                <script>
                    function radioClick(){
                        document.getElementById("code").value = document.querySelector('input[name="chosen"]:checked').value;
                        document.addDurableArticles.code.focus();
                    }
                </script>

              <div class="form-inline marginBtm1" role="form" align="center">
                      <div class="form-group" >
                            <div class="input-group" >
                                <span class="input-group-addon width250px" >รหัสวัสดุ</span>
                                <input type="text" class="form-control  textAlignCenter width300px"placeholder="ใส่ค่า" value="@code.code" onkeypress="validateNumberKey(event)" name="code" id="code" size="5" maxlength="5">
                                <span class="alertText" id="codeAlert"  > <i> *  กรุณาใส่ข้อมูลไห้ครบถ้วน</i></span>
                            </div>
                      </div>
                      <div class="form-group" >
                            <div class="input-group" >
                                <span class="input-group-addon width250px" >  ชื่อวัสดุ</span>
                                <input id="description" type="text" class="form-control textAlignCenter  width300px"placeholder="ใส่ค่า" value="@code.description" name="description" id="description">
                                <span class="alertText" id="descriptionAlert"  > <i> *  กรุณาใส่ข้อมูลไห้ครบถ้วน</i></span>
                            </div>
                      </div>
                </div>

	
                    
               <div class="form-inline marginBtm1" role="form" align="center">
                      <div class="form-group" >
                            <div class="input-group" >
                                <span class="input-group-addon width250px" >หน่วย</span>
                                <input id="classifier" type="text" class="form-control textAlignCenter  width300px" placeholder="ใส่ค่า"  value="@code.classifier" name="classifier">
                            </div>
                      </div>
                </div>        

                <div class="form-inline marginBtm1" role="form" align="center">
                      <div class="form-group" >
                            <div class="input-group" >
                                <span class="input-group-addon width250px" >จำนวนขั้นต่ำสำหรับแจ้งเตือน</span>
                                <input id="minNumberToAlert" type="number" class="form-control textAlignCenter  width300px"placeholder="ใส่ค่า" value="@code.minNumberToAlert" name="minNumberToAlert">
                            	<span class="alertText" id="minNumberToAlert2"  > <i> *  กรุณาใส่ข้อมูลไห้ครบถ้วน</i></span>
                            </div>
                      </div>
                </div>
                

	
				<div align="center">
					<input type="file" id="browse" class="btn-lg" name="attachFile"> 
				</div>
		
        </div>	<!-- end well -->
        

    <legend style="width:auto">รายละเอียดเพิ่มเติม</legend>
    <textarea class="form-control" maxlength="255" rows="3" name="otherDetail">@code.otherDetail</textarea>



    </div> <!--well-->
      
          <div align="center" style="margin-bottom:1%;">
              <a href="@routes.Import.importsMaterial2("3")">
                  <button class="btn btn-danger btn-lg width250px" style="margin-top:1%;margin-right:1%;" type ="button">
                      <span class="glyphicon glyphicon-remove"></span> ยกเลิก
                  </button>
              </a>
              <button id="editBtn" onclick="enableToSend();" class="btn btn-success btn-lg width250px" style=" margin-top:1%; display: none;">
                  แก้ไข <span class="glyphicon glyphicon-ok"></span>
              </button>

          </div>

       </form>       

    </div>
</div>

@footerFull()
