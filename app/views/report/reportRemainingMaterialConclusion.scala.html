@(user : User , mc: List[MaterialCode], mt:List[MaterialType], dg:List[models.durableGoods.DurableGoods])
@header("รายงาน")
    <script src="@routes.Assets.at("javascripts/report.js")"></script>

@nav(user)
@headerTag("สรุปวัสดุคงเหลือ")


@sideMenu(user)

<div class="listWindow">

            <legend>
                สรุปวัสดุคงเหลือ 
            </legend>
        <div class="tableHeaderBtnContainer">
                <div class="searchS">
                        <form>
                            <div class="form-group">
                                <div class="input-group">
                                  <span class="input-group-addon">ค้นหา</span>
                                  <input type="text" class="form-control "style="width:300px" id="search" >
                                </div>
                              </div>
                        </form>
                </div>
               <div class="form-group marginBtm1" role="form">
                    <div class="input-group" style="float:right;">
                      <span class="input-group-addon width150px marginLeft2">ประเภทงบประมาณ</span>
                        <select class="form-control textAlignCenter  width300px">
                          <option>---เลือก---</option>
                          <option>งบพิเศษ</option>
                          <option>งบคลัง</option>
                        </select>
                    </div>
                    <div class="input-group"style="float:right;">
                      <span class="input-group-addon width150px">ประเภทวัสดุ</span>
                        <select class="form-control textAlignCenter  width300px" id="MaterialTypeSelect" onchange="setKeySearch(this.value)">
                          <option>ทั้งหมด</option>
                     @for(mtl <-mt){
                          <option value="@mtl.typeName" >@mtl.typeName</option>
                     }
                        </select>
                   </div>
              </div>
               <!--<div class="form-inline" role="form"  style="float:right;">
                  <div class="form-group" >
                      <div class="input-group date width190px" id="start-picker">
                          <input type="text" class="form-control width150px" data-format="DD/MM/YYYY" autocomplete="off" id="birthInputBoxShow"placeholder="จากวันที่" disabled>
                          <input type="text" name="birthDate" id="birthInputBox" hidden>
                          <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                      </div>
                 </div>
                  <div class="form-group" >
                      <div class="input-group date width190px" id="end-picker">
                          <input type="text" class="form-control width150px" data-format="DD/MM/YYYY" autocomplete="off" id="birthInputBoxShow"placeholder="ถึงวันที่" disabled>
                          <input type="text" name="birthDate" id="birthInputBox" hidden>
                          <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                      </div>
                 </div>
                    <script type="text/javascript">
                        $(function () {
                            $('#start-picker').datetimepicker()
                        });
                        $(function () {
                            $('#end-picker').datetimepicker()
                        });
                    </script>
               </div>-->
        </div>

           <div class="tableHeaderBtnContainer">
           </div>
        <div >
                <span style="font-size:25px">
                    วัสดุสิ้นเปลือง
                </span>
                <button class="btn btn-primary glyphicon glyphicon-print marginLeft2" style="float:right">
                    พิมพ์วัสดุสิ้นเปลือง
                </button>
                <button class="btn btn-info glyphicon glyphicon-print" style="float:right">
                    พิมพ์ตารางนี้
                </button>
            <table class="table table-striped overlayTable" align="center">
                <thead>
                    <tr>
                        <th style="text-align:center"> ลำดับที่</th>
                        <th style="text-align:center"> รายการ </th>
                        <th style="text-align:center"> หน่วย </th>
                        <th style="text-align:center"> ปริมาณ </th>
                        <th style="text-align:center"> ราคา/หน่วย </th>
                        <th style="text-align:center"> จำนวนเงิน </th>
                        <th style="text-align:center"> หมายเหตุ</th>
                    </tr>
                </thead>
                <tbody>

                @for((mcl,index) <-mc.zipWithIndex){
                    <tr>
                        <th style="text-align:center">@{index+1}</th>
                        <th style="text-align:center">@mcl.description</th>
                        <th style="text-align:center">@mcl.classifier</th>
                        <th style="text-align:center" id="re@index">@mcl.remain</th>
                        <th style="text-align:center" id="pr@index">@mcl.pricePerEach</th>
                        <th style="text-align:center" id="pt@index">256.80</th>
                        <th style="text-align:center">@mcl.materialType.typeName</th>
                    <script>
                        document.getElementById("pt@index").innerHTML =  parseFloat(document.getElementById("re@index").innerHTML) * parseFloat(document.getElementById("pr@index").innerHTML) ;
                    </script>
                    </tr>
                }
                </tbody>
            </table>

                <span style="font-size:25px">
                    วัสดุคงทนถาวร
                </span>
                <button class="btn btn-primary glyphicon glyphicon-print  marginLeft2" style="float:right">
                    พิมพ์วัสดุคงทนถาวร
                </button>
                <button class="btn btn-info glyphicon glyphicon-print" style="float:right">
                    พิมพ์ตารางนี้
                </button>
            <table class="table table-striped overlayTable" align="center">
                <thead>
                    <tr>
                        <th style="text-align:center"> ลำดับที่</th>
                        <th style="text-align:center"> รายการ </th>
                        <th style="text-align:center"> หน่วย </th>
                        <th style="text-align:center"> ปริมาณ </th>
                        <th style="text-align:center"> ราคา/หน่วย </th>
                        <th style="text-align:center"> จำนวนเงิน </th>
                        <th style="text-align:center"> หมายเหตุ</th>
                    </tr>
                </thead>
                <tbody>
               @for((dgs,index) <-dg.zipWithIndex){
                        <th style="text-align:center">@{index+1}</th>
                        <th style="text-align:center">@dgs.detail.description</th>
                        <th style="text-align:center">@dgs.detail.getClassifier()</th>
                        <th style="text-align:center" id="red@index">@dgs.detail.remain</th>
                        <th style="text-align:center" id="prd@index">@dgs.detail.price</th>
                        <th style="text-align:center" id="ptd@index">256.80</th>
                        <th style="text-align:center">@dgs.detail.getGroupeType()</th>
                        <script>
                            document.getElementById("ptd@index").innerHTML =  parseFloat(document.getElementById("red@index").innerHTML) * parseFloat(document.getElementById("prd@index").innerHTML) ;
                        </script>
                    </tr>
                }
                </tbody>
            </table>
        </div> 
<!---->
</div>

@footer()
